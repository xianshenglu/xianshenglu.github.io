(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["UpgradeButton"],{"85e2":function(t,n,e){},c8c2:function(t,n,e){"use strict";var o=e("85e2"),i=e.n(o);i.a},ffd3:function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.isVisible?e("div",{staticClass:"UpgradeButton"},[e("div",{staticClass:"UpgradeButton__text"},[t._v("New Version Found !")]),e("button",{staticClass:"button",on:{click:t.onCancel}},[t._v("Cancel")]),e("button",{staticClass:"button",on:{click:t.onUpgrade}},[t._v("Update "+t._s(t.countdown))])]):t._e()},i=[],a={name:"UpgradeButton",props:{isVisible:{type:Boolean,default:!1}},data:function(){return{countdown:0,timer:0}},watch:{isVisible:function(t){!1!==t&&(clearInterval(this.timer),this.startCountdown())}},created:function(){navigator.serviceWorker.addEventListener("controllerchange",this.onReload)},destroyed:function(){navigator.serviceWorker.removeEventListener("controllerchange",this.onReload)},methods:{startCountdown:function(){var t=this;this.countdown=10,this.timer=setInterval((function(){t.countdown--,0===t.countdown&&t.upgrade()}),1e3)},upgrade:function(){clearInterval(this.timer),navigator.serviceWorker.getRegistration().then((function(t){t.waiting&&t.waiting.postMessage({type:"SKIP_WAITING"})}))},onReload:function(t){window.location.reload()},onUpgrade:function(){this.upgrade()},onCancel:function(){clearInterval(this.timer),this.$emit("update:isVisible",!1)}}},r=a,s=(e("c8c2"),e("2877")),c=Object(s["a"])(r,o,i,!1,null,"6f3e2e53",null);n["default"]=c.exports}}]);
//# sourceMappingURL=UpgradeButton.dcfb5c19.js.map